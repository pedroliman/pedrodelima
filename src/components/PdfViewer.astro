---
interface Props {
    pdfPath: string;
    downloadUrl?: string;
    title?: string;
    class?: string;
}

const { pdfPath, downloadUrl = pdfPath, title, class: className } = Astro.props;
---

<div class:list={['pdf-viewer w-full', className]}>
    {
        title && (
            <div class="mb-3 flex justify-between items-center">
                <h3 class="text-lg font-medium">{title}</h3>
                <a href={downloadUrl} download class="px-3 py-1.5 text-sm border border-main rounded-md text-main hover:bg-main hover:text-white dark:text-white dark:bg-main/80 dark:hover:bg-main/70">
                    Download PDF
                </a>
            </div>
        )
    }

    <div class="pdf-container border border-main/20 rounded-lg overflow-hidden">
        <iframe src={pdfPath} class="w-full h-[80vh]" type="application/pdf" frameborder="0">
            <p> Your browser doesn't support embedded PDFs. <a href={pdfPath} target="_blank" rel="noopener noreferrer"> Click here to view the PDF </a>. </p>
        </iframe>
    </div>

    {
        !title && (
            <div class="mt-3 flex justify-end">
                <a href={downloadUrl} download class="px-3 py-1.5 text-sm border border-main rounded-md text-main hover:bg-main hover:text-white dark:text-white dark:bg-main/80 dark:hover:bg-main/70">
                    Download PDF
                </a>
            </div>
        )
    }
</div>
